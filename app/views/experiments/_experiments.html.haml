= will_paginate @experiments, :prev_label => "&lt;&lt;&nbsp;", :next_label => "&nbsp;&gt;&gt;"
%br

- @experiments.each do |experiment| 
  .experimentline{:class => if experiment.finished? then "finished" else "" end}
    .right
      =button_to "Details", experiment_sessions_path(experiment), :method => :get
    %h4= highlight(experiment.name, params[:search])
    Typ:
    = highlight(experiment.experiment_type.name, params[:search]) if experiment.experiment_type
    %br
    Experiment-Organisation:
    = highlight(experiment.experimenters.collect{|u| u.firstname+" "+u.lastname}.join(', '), params[:search])
    %br
    
    - if experiment.sessions.length > 0
      = experiment.sessions.length
      Sessions von
      =experiment.sessions.collect{|d| d.start_at.to_date}.min
      bis
      =experiment.sessions.collect{|d| d.start_at.to_date}.max.to_s+','
    - else
      keine Sessions,
      
    zugeordnete Teilnehmer:
    =experiment.participants.where(:deleted => false, :role => 'user').count
    %br
    
    - if experiment.registration_active
      = image_tag("flag_green.png")
      Anmeldung ist aktiv
    - else
      = image_tag("flag_red.png")
      Anmeldung ist nicht aktiv
      
      
          
%br        
= will_paginate @experiments, :prev_label => "&lt;&lt;&nbsp;", :next_label => "&nbsp;&gt;&gt;"